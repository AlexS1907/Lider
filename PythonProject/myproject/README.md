# Проект: Уведомления о входах в админку Django через Telegram

Этот проект предоставляет функциональность для отправки уведомлений через Telegram при входе пользователей в админку Django. Проект включает в себя Telegram-бота, который отправляет уведомления всем подписчикам.

## Установка

1. **Установите зависимости**:

    ```bash
    pip install -r requirements.txt
    ```

2. **Настройка переменных окружения**:

    - `SECRET_KEY` уже установлен в файле `settings.py`.
    - `TELEGRAM_BOT_TOKEN` уже установлен в файле `settings.py`.

## Запуск

1. **Запустите сервер разработки Django**:

    ```bash
    python manage.py runserver
    ```

2. **Запустите Telegram бота**:

    ```bash
    python manage.py runbot
    ```

## Использование

- Подпишитесь на бота, отправив команду `/start` в Telegram. Это необходимо для получения уведомлений.
- Чтобы отписаться от уведомлений, используйте команду `/stop`.
- При входе пользователя с правами администратора в админку Django, все подписчики получат уведомление.

## Тестирование

1. **Для запуска тестов выполните команду**:

    ```bash
    python manage.py test
    ```

    - Мы используем мокирование (mocking), чтобы заменить реальный вызов метода `send_message` на фиктивный объект, который позволяет нам проверить, что метод был вызван с правильными аргументами.

2. **Для запуска тестов вручную**:

    - Перейдите в админ-панель и выполните вход с логином `admin` и паролем `admin`.
    - Тогда бот отправит сообщение о входе администратора через Telegram.